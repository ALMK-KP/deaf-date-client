@if (tracks.length) {
  @if (!encoded) {
    <h2 class="mt-8 text-lg font-semibold text-green-500 tracking-widest">
      Your current playlist
    </h2>
  }
  <ul
    class="mt-2 text-white text-sm gap-2 flex flex-col"
    [class.mt-8]="encoded"
  >
    @for (track of tracks; track track.id; let i = $index) {
      <li class="rounded-sm p-2 bg-neutral-600">
        <div class="flex gap-2" (click)="toggleExpanded(track.id)">
          <p>{{ i + 1 }}.</p>
          @if (track.thumbnail) {
            <img [src]="track.thumbnail" alt="" width="80" />
          }
          <div>
            <h2>{{ encoded ? track.customTitle : track.title }}</h2>
            <p>{{ track.channelTitle }}</p>
          </div>
        </div>
        @if (expanded && track.id === expandedTrackId && encoded) {
          <audio
            controls
            class="mt-2 mx-auto"
            autoplay
            controlslist="nofullscreen nodownload noremoteplayback noplaybackrate"
          >
            <source [src]="track.audio" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>
        }
      </li>
    }
  </ul>
} @else {
  <p class="text-center italic mt-24 mb-20">No tracks added yet</p>
}
<p class="text-green-500 text-center tracking-widest p-4">.. ... .. ...</p>
